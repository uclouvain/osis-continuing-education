{% load staticfiles %}
{% load i18n %}
{% load bootstrap3 %}

{% comment "License" %}
* OSIS stands for Open Student Information System. It's an application
* designed to manage the core business of higher education institutions,
* such as universities, faculties, institutes and professional schools.
* The core business involves the administration of students, teachers,
* courses, programs and so on.
*
* Copyright (C) 2015-2017 Universit√© catholique de Louvain (http://www.uclouvain.be)
*
* This program is free software: you can redistribute it and/or modify
* it under the terms of the GNU General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*
* A copy of this license - GNU General Public License - is available
* at the root of the source code of this program.  If not,
* see http://www.gnu.org/licenses/.
{% endcomment %}

{% if not admission.is_accepted %}
    <a class="btn btn-default pull-right" style="margin: 0.5em;" href="{% url 'registration_edit' admission_id=admission.pk %}">
        <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> {% trans 'Edit registration data' %}
    </a>
{% endif %}


{% include "fragment/section_identification.html" %}

    <div class="panel-heading">{% trans 'Billing' %}</div>
    <div class="panel panel-body">
        <div class="row form-group">
            <div class="col-md-3">{% bootstrap_label _("Registration type") %} <br/> {{ admission.registration_type | default:"-" }} </div>
        </div>
        <div class="row form-group">
            <div class="col-md-3">{% bootstrap_label _("Location") %} <br/> {{ admission.billing_address.location | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("Postal code") %} <br/> {{ admission.billing_address.postal_code | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("City") %} <br/> {{ admission.billing_address.city | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("Country") %} <br/> {{ admission.billing_address.country | default:"-" }} </div>
        </div>
        <div class="row form-group">
            <div class="col-md-3">{% bootstrap_label _("Head office name") %} <br/> {{ admission.head_office_name | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("Company number") %} <br/> {{ admission.company_number | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("VAT number") %} <br/> {{ admission.vat_number | default:"-" }} </div>
        </div>
    </div>

    <div class="panel-heading">{% trans 'Registration' %}</div>
    <div class="panel panel-body">
        <div class="row form-group">
            <div class="col-md-3">{% bootstrap_label _("National registry number") %} <br/> {{ admission.national_registry_number | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("ID card number") %} <br/> {{ admission.id_card_number | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("Passport number") %} <br/> {{ admission.passport_number | default:"-" }} </div>
        </div>
        <div class="row form-group">
            <div class="col-md-3">{% bootstrap_label _("Marital status") %} <br/> {{ admission.marital_status | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("Spouse name") %} <br/> {{ admission.spouse_name | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("Children number") %} <br/> {{ admission.children_number | default:"-" }} </div>
        </div>
        <div class="row form-group">
            <div class="col-md-6">{% bootstrap_label _("Previous ucl registration") %} <br/> {{ admission.previous_ucl_registration | yesno }} </div>
            <div class="col-md-3">{% bootstrap_label _("Previous NOMA") %} <br/> {{ admission.previous_noma | default:"-" }} </div>
        </div>

    </div>

    <div class="panel-heading">{% trans 'Post' %}</div>
    <div class="panel panel-body">
        <div class="row form-group">
            <div class="col-md-3">{% bootstrap_label _("Location") %} <br/> {{ admission.residence_address.location | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("Postal code") %} <br/> {{ admission.residence_address.postal_code | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("City") %} <br/> {{ admission.residence_address.city | default:"-" }} </div>
            <div class="col-md-3">{% bootstrap_label _("Country") %} <br/> {{ admission.residence_address.country | default:"-" }} </div>
        </div>
        <div class="row form-group">
            <div class="col-md-4">{% bootstrap_label _("Residence phone") %} <br/> {{ admission.residence_phone | default:"-" }} </div>
        </div>
    </div>

    <div class="panel-heading">{% trans 'Student sheet' %}</div>
    <div class="panel panel-body">
        <div class="row form-group">
            <div class="col-md-4">
                {% bootstrap_label _("Registration complete") %} : {{ admission.ucl_registration_complete | yesno }}
                <br/> {% bootstrap_label _("Payment complete") %} : {{ admission.payment_complete | yesno }}
                <br/> {% bootstrap_label _("NOMA") %} : {{ admission.noma | default:"-"}}
            </div>
            <div class="col-md-4">
                {% bootstrap_label _("Formation spreading") %} : {{ admission.formation_spreading | yesno }}
                <br/> {% bootstrap_label _("Prior experience validation") %} : {{ admission.prior_experience_validation | yesno }}
            </div>
            <div class="col-md-4">
                {% bootstrap_label _("Assessment presented") %} : {{ admission.assessment_presented | yesno }}
                <br/> {% bootstrap_label _("Assessment succeeded") %} : {{ admission.assessment_succeeded | yesno }}
            </div>
        </div>
    </div>


{% block script %}
    <script>
        $('.high_school_graduation_year').hide();
        $('#id_high_school_diploma').on('change', function() {
            console.log($(this).find(":selected").val());
            $('.high_school_graduation_year').toggle($(this).find(":selected").val());
        });
    </script>
{% endblock %}